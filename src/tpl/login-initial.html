<section class="page" ng-class="{'u-waiting-cursor': state.ui === 3}">
  <div class="page__canvas">
    <header class="page__header">
      <img src="img/whiteout_logo.svg" alt="whiteout.io">
    </header>
    <main class="page__main">
      <div ng-show="state.ui === 1">
        <h2 class="typo-title">Setup encryption key</h2>
        <p class="typo-paragraph">
          Generate a new encryption key. Your key belongs to you and only you can read encrypted messages.
        </p>

        <form class="form" name="form">
          <p class="form__error-message" ng-show="errMsg">{{errMsg}}</p>
          <div class="form__row">
            <label class="input-checkbox">
              <span class="checkbox">
                <input type="checkbox" ng-model="agree">
                <span class="input-checkbox__box"><svg role="presentation"><use xlink:href="#icon-check" /></svg></span>
              </span>
              I agree to the Whiteout Networks <a href="https://whiteout.io/terms.html" target="_blank">Terms of Service</a> and have read the <a href="https://whiteout.io/privacy-service.html" target="_blank">Privacy Policy</a>
            </label>
          </div>
          <div class="form__row">
            <label class="input-checkbox">
              <span class="checkbox">
                <input type="checkbox" ng-model="hkpUpload">
                <span class="input-checkbox__box"><svg role="presentation"><use xlink:href="#icon-check" /></svg></span>
              </span>
              Share my public key, email address and name on key servers for other users to find. <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic)" target="_blank">Learn more</a>
            </label>
          </div>

          <div class="form__row">
            <button type="submit" ng-click="generateKey()" class="btn" tabindex="3">Generate new key</button>
          </div>
        </form>

        <p class="typo-paragraph">
          <a href="#" wo-touch="$event.preventDefault(); importKey()">
            Or import an existing PGP key
          </a>
        </p>
      </div>

      <div ng-show="state.ui === 2">
        <h2 class="typo-title">Generating key</h2>
        <p class="typo-paragraph">
          Please stand by. This can take a whileâ€¦
        </p>
        <div class="spinner-block spinner-block--standalone">
          <span class="spinner spinner--big"></span>
        </div>
      </div>
    </main>
    <div ng-include="'tpl/page-footer.html'"></div>
  </div>
</section>